# 概要

HyperRental は、ERC-6551（TBA: Token Bound Account）を活用した無担保型のレンタルプロトコルです。

当プロトコルでは、RentalPack と呼ばれる NFT にスマートコントラクトウォレットを紐付け、その紐付けれたアカウント（以降、TBA）にレンタルするアセットをロックし、RentalPack NFT を流通させることで、従来のレンタルプロトコルにおける課題の解決や柔軟性の向上を図っています。

また、レンタル期間終了時のアセットの返却は、Chainlink を活用することでスマートコントラクト上に記録されたレンタル期限（タイムスタンプ）を基に自動的に返却される仕組みとなっています。

# 特徴

### １. 完全な所有権の移転を可能に

他のレンタルプロトコルでは、貸し出したアセットをプラットフォーム内にロックしたまま、貸し借りの履歴をスマートコントラクト上で管理することで擬似的なレンタルを行ったり、オリジナルのトークンを基に作成した Wraped トークンを借り手側に送るといった手法がよくみられます。
しかしこれは、あくまで擬似的なレンタルであり、真の所有権を譲渡しているとは言えません。
HyperRental では、レンタルされたアセットは借り手側のウォレットアドレスに送信されます。これはすなわち、所有権が完全に移転したことを意味します。

### ２. EOA ウォレットへの完全な譲渡を可能に

最近では、上記で上げたレンタルプロトコルの他に、ERC-4337 等のスマートコントラクトウォレットを活用したレンタルプロトコルもグローバルハッカソンで見かけるようになってきました。簡単に言うと、スマートコントラクトウォレットを介して、借り手側に真の所有権を提供するというソリューションです。
しかし、メタマスクのような EOA（Externally Owned Account）ウォレットは ERC20 や ERC721 といったアセットの所有しかできないため、上記の方法では EOA ウォレットへの真の所有権を提供することはできません。
HyperRental では、スマートコントラクトウォレットを NFT に紐付ける仕組み（ERC-6551）を活用しているため、その NFT を介して EOA ウォレットに真の所有権を提供することが可能となっています。

### ３. 無担保型レンタル方式

通常のトークンレンタルでは、借り手側がアセットをレンタルする際に貸手側にレンタル期間に応じた手数料を支払います。あるいは、レンタルアセットを返却する際に借りた期間に応じて手数料を支払うこともあります。
HyperRental では、アセットをレンタルする際、借り手側はレンタルするアセットが保管されている TBA に対して手数料を送金します。その手数料を受け取った TBA はレンタル期間中は借り手が所有するため、これは自分の所有するサブウォレットにお金を移す行為と同じです。
つまり、HyperRental は完全にトラストレスな P2P のアセットレンタルを実現した上で、借り手側に実質無担保でのレンタルを提供することができるのです。

### ４. レンタル中の柔軟性を向上

HyperRental では、RentalPack NFT を介してアセットのレンタルを行っているため、その RentalPack を移転することで、レンタルしているアセットを借り手側が自由に動かすことができます。
RentalPack NFT がどんなウォレットに送られたとしても、レンタル期限を迎えると自動的に返却されるため、貸し手側は安心して自身のアセットをレンディングすることができます。
借り手側の幅広いニーズや消費行動に対応できる、他のレンタルプロトコルにない柔軟性を提供します。

### ５. あらゆるトークン規格に対応

通常のレンタルプロトコルでは、ERC-721 や ERC1155 といった NFT のレンタルが主流です。
しかし、HyperRental では、TBA（すなわちウォレット）を介したレンタルを提供するため、ウォレットが所有できるトークン（すなわち存在する全てのトークン）のレンタルに対応しています。つまり、ERC-20, ERC-721, ERC-1155, ERC-3525, SBT（Soul Bound Token）など、さまざまなトークン規格がサポートされています。
※ なお、デモアプリでは UI の都合上、ERC-20 には対応しておりません。

### ６. 複数アセットの一括レンタルが可能

HyperRental では、RentalPack NFT と各 RentalPack に記録されている条件を基に、個人間でのレンタルが行われています。
そのため、RentalPack NFT に紐づく TBA へどれだけのアセットを保管させておくのかは完全に貸し手側の自由であり、複数のアセットを一つの RentalPack を通してレンタルすることが可能となっています。また、その複数のアセットが全て同じトークン規格である必要はなく、例えば、１種類の ERC-20 と３種類の ERC-721 を一括で貸し出すことができます。

### ７. シンプルな設計

HyperRental では、ERC-6551 を活用しているため、web3 系の API といった既存インフラと完全な互換性があります。
これにより、レンタルに関する必要最低限の情報だけをプロトコル側に記録しており、レンタル時のガス代（トランザクション手数料）の削減が可能となっています。
例えば、他のレンタルプロトコルでは、どのアセットがレンタルされているかを追跡するために、そのトークンのコントラクトアドレスやトークン ID をプロトコル側に記録していますが、HyperRental では RentalPack 内のアセットにどのようなものがあるのかを一切追跡していません。
なぜなら、RentalPack NFT に紐づいている TBA がどのアセットを持っているかをブロックチェーンの台帳がしっかり追跡してくれているからです。
デモアプリでは、Moralis API を使って TBA がどのアセットを所有しているかを特定しており、RentalPack 内のアセットを引き出す際も API 経由で取得したトークン情報を基に withdraw 関数を実行しています。
